{"version":3,"file":"index.js","sources":["../src/components/ProductItem.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Text, Button, StyleSheet } from 'react-native';\n\nexport interface ProductItemProps {\n  product: {\n    id: string;\n    name: string;\n    price: number;\n    quantity: number;\n  };\n  onSelect?: (id: string) => void;\n  onQuantityChange?: (id: string, quantity: number) => void;\n  isControlled?: boolean; // If true, parent controls state\n}\n\nexport const ProductItem: React.FC<ProductItemProps> = ({\n  product,\n  onSelect,\n  onQuantityChange,\n  isControlled = false,\n}) => {\n  const [quantity, setQuantity] = useState(product.quantity);\n\n  const handleSelect = () => {\n    if(!onSelect) {\n      return;\n    }\n    if (!isControlled) {\n      setQuantity(1); // Automatically set quantity to 1 when selected \n    }\n    onSelect(product.id);\n  };\n\n  const handleQuantityChange = (change: number) => {\n    const newQuantity = isControlled ? product.quantity + change : quantity + change;\n    if (newQuantity >= 0) {\n      if (!isControlled) setQuantity(newQuantity);\n      if (onQuantityChange) onQuantityChange(product.id, newQuantity);\n    }\n  };\n\n  const isSelected = isControlled ? product.quantity > 0 : quantity > 0;\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.name}>{product.name}</Text>\n      <Text>{`Price: $${product.price}`}</Text>\n      <View style={styles.actions}>\n        {!isSelected ? (\n          <Button title=\"Select\" onPress={handleSelect} />\n        ) : (\n          <View style={styles.quantityContainer}>\n            <Button title=\"-\" onPress={() => handleQuantityChange(-1)} />\n            <Text style={styles.quantity}>\n              {isControlled ? product.quantity : quantity}\n            </Text>\n            <Button title=\"+\" onPress={() => handleQuantityChange(1)} />\n          </View>\n        )}\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: { padding: 10, borderBottomWidth: 1 },\n  actions: { flexDirection: 'row', alignItems: 'center' },\n  name: { fontWeight: 'bold', marginBottom: 5 },\n  quantityContainer: { flexDirection: 'row', alignItems: 'center' },\n  quantity: { marginHorizontal: 10, fontSize: 16 },\n});"],"names":["styles","StyleSheet","create","container","padding","borderBottomWidth","actions","flexDirection","alignItems","name","fontWeight","marginBottom","quantityContainer","quantity","marginHorizontal","fontSize","_a","product","onSelect","onQuantityChange","_b","isControlled","_c","useState","setQuantity","handleQuantityChange","change","newQuantity","id","isSelected","_jsxs","jsxs","View","style","children","_jsx","jsx","Text","concat","price","Button","title","onPress"],"mappings":"6FAgEMA,EAASC,EAAUA,WAACC,OAAO,CAC/BC,UAAW,CAAEC,QAAS,GAAIC,kBAAmB,GAC7CC,QAAS,CAAEC,cAAe,MAAOC,WAAY,UAC7CC,KAAM,CAAEC,WAAY,OAAQC,aAAc,GAC1CC,kBAAmB,CAAEL,cAAe,MAAOC,WAAY,UACvDK,SAAU,CAAEC,iBAAkB,GAAIC,SAAU,0BAtDS,SAACC,GACtD,IAAAC,EAAOD,EAAAC,QACPC,EAAQF,EAAAE,SACRC,EAAgBH,EAAAG,iBAChBC,EAAoBJ,EAAAK,aAApBA,OAAY,IAAAD,GAAQA,EAEdE,EAA0BC,EAAAA,SAASN,EAAQJ,UAA1CA,EAAQS,EAAA,GAAEE,OAYXC,EAAuB,SAACC,GAC5B,IAAMC,EAAcN,EAAeJ,EAAQJ,SAAWa,EAASb,EAAWa,EACtEC,GAAe,IACZN,GAAcG,EAAYG,GAC3BR,GAAkBA,EAAiBF,EAAQW,GAAID,GAEtD,EAEKE,EAAaR,EAAeJ,EAAQJ,SAAW,EAAIA,EAAW,EAEpE,OACEiB,EAAAC,KAACC,OAAI,CAACC,MAAOjC,EAAOG,UAAS+B,SAAA,CAC3BC,EAACC,IAAAC,QAAKJ,MAAOjC,EAAOS,KAAIyB,SAAGjB,EAAQR,OACnC0B,EAACC,IAAAC,OAAM,CAAAH,SAAA,WAAAI,OAAWrB,EAAQsB,SAC1BJ,EAAAA,IAACH,EAAAA,KAAI,CAACC,MAAOjC,EAAOM,QACjB4B,SAACL,EAGAC,EAAAA,KAACE,EAAIA,KAAC,CAAAC,MAAOjC,EAAOY,kBAClBsB,SAAA,CAAAC,EAAAA,IAACK,EAAAA,OAAO,CAAAC,MAAM,IAAIC,QAAS,WAAM,OAAAjB,GAAsB,MACvDU,EAAAA,IAACE,EAAIA,KAAC,CAAAJ,MAAOjC,EAAOa,kBACjBQ,EAAeJ,EAAQJ,SAAWA,IAErCsB,MAACK,EAAAA,OAAO,CAAAC,MAAM,IAAIC,QAAS,WAAM,OAAAjB,EAAqB,EAAE,OAP1DU,EAAAA,IAACK,EAAMA,OAAC,CAAAC,MAAM,SAASC,QA1BV,WACfxB,IAGCG,GACHG,EAAY,GAEdN,EAASD,EAAQW,IAClB,QA+BH"}