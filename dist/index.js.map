{"version":3,"file":"index.js","sources":["../src/components/ProductItem.tsx"],"sourcesContent":["import { IonItem, IonLabel, IonButtons, IonButton, IonText } from '@ionic/react';\nimport { StyleSheet } from 'react-native';\nimport React, { useState } from 'react';\nimport { Product } from 'shared-utils';\n\nexport interface ProductItemProps {\n  product: Product; // Always pass the product object\n  quantity?: number; // Optional: Quantity (only for cart items)\n  onSelect: (id: string) => void; // Callback for adding to the cart\n  onQuantityChange?: (id: string, quantity: number) => void; // Callback for changing quantity\n  standalone?: boolean; // If true, use controlled mode for quantity\n}\n\nexport const ProductItem: React.FC<ProductItemProps> = ({\n  product,\n  quantity,\n  onSelect,\n  onQuantityChange,\n  standalone = false,\n}) => {\n\n  const [localQuantity, setLocalQuantity] = useState<number>(quantity || 0);\n\n  const handleQuantityChange = (newQuantity: number) => {\n    console.log('Quantity Changed:', newQuantity);\n    if (standalone) {\n      setLocalQuantity(newQuantity); // Update local state\n    } else {\n      if (onQuantityChange) {\n        onQuantityChange(product.id, newQuantity); // Use callback\n      }\n    }\n  };\n\n  const handleAddToCart = () => {\n    console.log('Add to Cart:', product.id);\n    if (standalone) {\n      setLocalQuantity((prev) => prev + 1);\n    } else {\n      if (onSelect) {\n        onSelect(product.id);\n      }\n    }\n  };\n\n  const displayQuantity = standalone ? localQuantity : quantity;\n\n  return (\n    <IonItem>\n      {/* Product Details */}\n      <IonLabel>\n        <h2>{product.name}</h2>\n        <p>{product.price.toFixed(2)} â‚¬a</p>\n      </IonLabel>\n\n      {/* Quantity Controls */}\n      {displayQuantity !== 0 && displayQuantity !== undefined ? (\n        <IonButtons slot=\"end\">\n          <IonButton style={styles.roundBtn} fill=\"solid\" color={'primary'} shape=\"round\" onClick={() => handleQuantityChange(Math.max(displayQuantity! - 1, 0))}>\n            -\n          </IonButton>\n          <IonText style={{ margin: '0 8px' }}>{displayQuantity}</IonText>\n          <IonButton style={styles.roundBtn} fill=\"solid\" color={'primary'} shape=\"round\" onClick={() => handleQuantityChange(displayQuantity! + 1)}>+</IonButton>\n        </IonButtons>\n      ) : (\n        // Add to Cart Button\n        <IonButton style={styles.mainBtn} color={'primary'} slot=\"end\" onClick={() => handleAddToCart()}>\n          Add to Cart\n        </IonButton>\n      )}\n    </IonItem>\n  );\n};\n\nconst styles = StyleSheet.create({\n  item: { padding: 2 },\n  mainBtn: { fontSize: 14},\n  roundBtn: { fontSize: 20, fontWeight: 'bold', width: 30},\n});"],"names":["styles","StyleSheet","create","item","padding","mainBtn","fontSize","roundBtn","fontWeight","width","_a","product","quantity","onSelect","onQuantityChange","_b","standalone","_c","useState","localQuantity","setLocalQuantity","handleQuantityChange","newQuantity","console","log","id","displayQuantity","_jsxs","IonItem","children","IonLabel","_jsx","jsx","name","price","toFixed","undefined","IonButtons","slot","IonButton","style","fill","color","shape","onClick","Math","max","IonText","margin","prev"],"mappings":"uHA0EMA,EAASC,EAAUA,WAACC,OAAO,CAC/BC,KAAM,CAAEC,QAAS,GACjBC,QAAS,CAAEC,SAAU,IACrBC,SAAU,CAAED,SAAU,GAAIE,WAAY,OAAQC,MAAO,0BAhEA,SAACC,GACtD,IAAAC,YACAC,EAAQF,EAAAE,SACRC,EAAQH,EAAAG,SACRC,EAAgBJ,EAAAI,iBAChBC,EAAkBL,EAAAM,WAAlBA,OAAU,IAAAD,GAAQA,EAGZE,EAAoCC,EAAAA,SAAiBN,GAAY,GAAhEO,EAAaF,EAAA,GAAEG,OAEhBC,EAAuB,SAACC,GAC5BC,QAAQC,IAAI,oBAAqBF,GAC7BN,EACFI,EAAiBE,GAEbR,GACFA,EAAiBH,EAAQc,GAAIH,EAGlC,EAaKI,EAAkBV,EAAaG,EAAgBP,EAErD,OACEe,OAACC,EAAAA,QAAO,CAAAC,SAAA,CAENF,EAAAA,KAACG,EAAQA,SACP,CAAAD,SAAA,CAAAE,EAAAC,IAAA,KAAA,CAAAH,SAAKlB,EAAQsB,OACbN,EAAAA,KAAI,IAAA,CAAAE,SAAA,CAAAlB,EAAQuB,MAAMC,QAAQ,GAAU,YAIjB,IAApBT,QAA6CU,IAApBV,EACxBC,EAAAA,KAACU,EAAUA,WAAA,CAACC,KAAK,MAAKT,SAAA,CACpBE,EAAAA,IAACQ,EAASA,UAAC,CAAAC,MAAOxC,EAAOO,SAAUkC,KAAK,QAAQC,MAAO,UAAWC,MAAM,QAAQC,QAAS,WAAM,OAAAvB,EAAqBwB,KAAKC,IAAIpB,EAAmB,EAAG,GAAG,EAE1IG,SAAA,MACZE,EAACC,IAAAe,UAAQ,CAAAP,MAAO,CAAEQ,OAAQ,SAASnB,SAAGH,IACtCK,EAAAA,IAACQ,EAASA,UAAC,CAAAC,MAAOxC,EAAOO,SAAUkC,KAAK,QAAQC,MAAO,UAAWC,MAAM,QAAQC,QAAS,WAAM,OAAAvB,EAAqBK,EAAmB,EAAE,EAAeG,SAAA,SAI1JE,MAACQ,EAAAA,UAAS,CAACC,MAAOxC,EAAOK,QAASqC,MAAO,UAAWJ,KAAK,MAAMM,QAAS,WAAM,OA/BlFrB,QAAQC,IAAI,eAAgBb,EAAQc,SAChCT,EACFI,GAAiB,SAAC6B,GAAS,OAAAA,EAAO,CAAC,IAE/BpC,GACFA,EAASF,EAAQc,IA0B6D,EAElEI,SAAA,kBAIpB"}