{"version":3,"file":"index.mjs","sources":["../src/components/ProductItem.tsx"],"sourcesContent":["import { IonItem, IonLabel, IonButtons, IonButton, IonText } from '@ionic/react';\nimport { StyleSheet } from 'react-native';\nimport React, { useState } from 'react';\nimport { Product } from 'shared-utils';\n\nexport interface ProductItemProps {\n  product: Product; // Always pass the product object\n  quantity?: number; // Optional: Quantity (only for cart items)\n  onSelect: (id: string) => void; // Callback for adding to the cart\n  onQuantityChange?: (id: string, quantity: number) => void; // Callback for changing quantity\n  standalone?: boolean; // If true, use controlled mode for quantity\n}\n\nexport const ProductItem: React.FC<ProductItemProps> = ({\n  product,\n  quantity,\n  onSelect,\n  onQuantityChange,\n  standalone = false,\n}) => {\n\n  const [localQuantity, setLocalQuantity] = useState<number>(quantity || 0);\n\n  const handleQuantityChange = (newQuantity: number) => {\n    console.log('Quantity Changed:', newQuantity);\n    if (standalone) {\n      setLocalQuantity(newQuantity); // Update local state\n    } else {\n      if (onQuantityChange) {\n        onQuantityChange(product.id, newQuantity); // Use callback\n      }\n    }\n  };\n\n  const handleAddToCart = () => {\n    console.log('Add to Cart:', product.id);\n    if (standalone) {\n      setLocalQuantity((prev) => prev + 1);\n    } else {\n      if (onSelect) {\n        onSelect(product.id);\n      }\n    }\n  };\n\n  const displayQuantity = standalone ? localQuantity : quantity;\n\n  return (\n    <IonItem>\n      {/* Product Details */}\n      <IonLabel>\n        <h2>{product.name}</h2>\n        <p>{product.price.toFixed(2)} â‚¬a</p>\n      </IonLabel>\n\n      {/* Quantity Controls */}\n      {displayQuantity !== 0 && displayQuantity !== undefined ? (\n        <IonButtons slot=\"end\">\n          <IonButton style={styles.roundBtn} fill=\"solid\" color={'primary'} shape=\"round\" onClick={() => handleQuantityChange(Math.max(displayQuantity! - 1, 0))}>\n            -\n          </IonButton>\n          <IonText style={{ margin: '0 8px' }}>{displayQuantity}</IonText>\n          <IonButton style={styles.roundBtn} fill=\"solid\" color={'primary'} shape=\"round\" onClick={() => handleQuantityChange(displayQuantity! + 1)}>+</IonButton>\n        </IonButtons>\n      ) : (\n        // Add to Cart Button\n        <IonButton style={styles.mainBtn} color={'primary'} slot=\"end\" onClick={() => handleAddToCart()}>\n          Add to Cart\n        </IonButton>\n      )}\n    </IonItem>\n  );\n};\n\nconst styles = StyleSheet.create({\n  item: { padding: 2 },\n  mainBtn: { fontSize: 14},\n  roundBtn: { fontSize: 20, fontWeight: 'bold', width: 30},\n});"],"names":["ProductItem","_a","product","quantity","onSelect","onQuantityChange","_b","standalone","_c","useState","localQuantity","setLocalQuantity","handleQuantityChange","newQuantity","console","log","id","displayQuantity","_jsxs","IonItem","children","IonLabel","_jsx","name","price","toFixed","undefined","IonButtons","slot","IonButton","style","styles","roundBtn","fill","color","shape","onClick","Math","max","IonText","margin","mainBtn","prev","StyleSheet","create","item","padding","fontSize","fontWeight","width"],"mappings":"8NAaO,IAAMA,EAA0C,SAACC,GACtD,IAAAC,YACAC,EAAQF,EAAAE,SACRC,EAAQH,EAAAG,SACRC,EAAgBJ,EAAAI,iBAChBC,EAAkBL,EAAAM,WAAlBA,OAAU,IAAAD,GAAQA,EAGZE,EAAoCC,EAAiBN,GAAY,GAAhEO,EAAaF,EAAA,GAAEG,OAEhBC,EAAuB,SAACC,GAC5BC,QAAQC,IAAI,oBAAqBF,GAC7BN,EACFI,EAAiBE,GAEbR,GACFA,EAAiBH,EAAQc,GAAIH,EAGlC,EAaKI,EAAkBV,EAAaG,EAAgBP,EAErD,OACEe,EAACC,EAAO,CAAAC,SAAA,CAENF,EAACG,EACC,CAAAD,SAAA,CAAAE,EAAA,KAAA,CAAAF,SAAKlB,EAAQqB,OACbL,EAAI,IAAA,CAAAE,SAAA,CAAAlB,EAAQsB,MAAMC,QAAQ,GAAU,YAIjB,IAApBR,QAA6CS,IAApBT,EACxBC,EAACS,EAAU,CAACC,KAAK,MAAKR,SAAA,CACpBE,EAACO,EAAU,CAAAC,MAAOC,EAAOC,SAAUC,KAAK,QAAQC,MAAO,UAAWC,MAAM,QAAQC,QAAS,WAAM,OAAAxB,EAAqByB,KAAKC,IAAIrB,EAAmB,EAAG,GAAG,EAE1IG,SAAA,MACZE,EAACiB,EAAQ,CAAAT,MAAO,CAAEU,OAAQ,SAASpB,SAAGH,IACtCK,EAACO,EAAU,CAAAC,MAAOC,EAAOC,SAAUC,KAAK,QAAQC,MAAO,UAAWC,MAAM,QAAQC,QAAS,WAAM,OAAAxB,EAAqBK,EAAmB,EAAE,EAAeG,SAAA,SAI1JE,EAACO,EAAS,CAACC,MAAOC,EAAOU,QAASP,MAAO,UAAWN,KAAK,MAAMQ,QAAS,WAAM,OA/BlFtB,QAAQC,IAAI,eAAgBb,EAAQc,SAChCT,EACFI,GAAiB,SAAC+B,GAAS,OAAAA,EAAO,CAAC,IAE/BtC,GACFA,EAASF,EAAQc,IA0B6D,EAElEI,SAAA,kBAIpB,EAEMW,EAASY,EAAWC,OAAO,CAC/BC,KAAM,CAAEC,QAAS,GACjBL,QAAS,CAAEM,SAAU,IACrBf,SAAU,CAAEe,SAAU,GAAIC,WAAY,OAAQC,MAAO"}